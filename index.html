<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Personal Portal (Phone Unlock)</title>
<style>
  body {margin:0;font-family:Arial,sans-serif;background:#041d07;color:#e6eef8;}
  #locked {position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#042107,#0a3c0b);z-index:50;text-align:center;padding:20px;}
  #locked h1{font-size:28px;margin-bottom:10px;}
  #locked p{margin:4px 0;}
  #codeInput {padding:8px;border-radius:8px;border:none;width:120px;text-align:center;font-size:18px;margin-top:10px;}
  button{padding:8px 12px;border-radius:8px;border:none;background:#38b000;color:#fff;cursor:pointer;margin-top:10px;font-weight:bold;}
  #portal {display:none;padding:20px;max-width:900px;margin:auto;}
  header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;}
  header h1{margin:0;font-size:24px;}
  .section{background:linear-gradient(135deg,#0a3c0b,#042107);padding:12px;border-radius:12px;margin-bottom:16px;}
  input, textarea{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.02);color:#e6eef8;}
  .bookmark-list{margin-top:8px;display:flex;flex-wrap:wrap;gap:8px;}
  .bookmark-item{background:rgba(255,255,255,0.04);padding:6px 10px;border-radius:8px;text-decoration:none;color:#e6eef8;}
</style>
</head>
<body>

<div id="locked">
  <h1>Portal Locked</h1>
  <p>Your one-time unlock code is:</p>
  <p id="unlockCode" style="font-size:32px;font-weight:bold;letter-spacing:3px;"></p>
  <p>Enter this code below to unlock:</p>
  <input type="text" id="codeInput" placeholder="123456" maxlength="6">
  <button id="unlockBtn">Unlock</button>
  <p style="margin-top:12px;font-size:12px;color:#a8ffb0;">Keep this code safe. Refreshing will generate a new one.</p>
</div>

<div id="portal">
  <header>
    <h1>My Personal Portal</h1>
  </header>

  <div class="section">
    <h3>Quick Add Bookmark</h3>
    <input type="text" id="bmTitle" placeholder="Title">
    <input type="text" id="bmURL" placeholder="URL">
    <button id="addBM">Add Bookmark</button>
    <div class="bookmark-list" id="bookmarkList"></div>
  </div>

  <div class="section">
    <h3>Notes</h3>
    <textarea id="notes" rows="6" placeholder="Your notes here..."></textarea>
  </div>
</div>

<script>
// --- Generate one-time unlock code ---
let unlockCode = Math.floor(100000 + Math.random()*900000).toString();
document.getElementById('unlockCode').textContent = unlockCode;

// --- Unlock button ---
document.getElementById('unlockBtn').addEventListener('click',()=>{
    const entered = document.getElementById('codeInput').value.trim();
    if(entered === unlockCode){
        document.getElementById('locked').style.display='none';
        document.getElementById('portal').style.display='block';
    } else {
        alert('Incorrect code!');
    }
});

// --- Bookmarks ---
let bookmarks = JSON.parse(localStorage.getItem('bookmarks')||'[]');
const bmList = document.getElementById('bookmarkList');

function renderBookmarks() {
    bmList.innerHTML = '';
    bookmarks.forEach(bm => {
        const a = document.createElement('a');
        a.href = bm.url;
        a.target='_blank';
        a.className='bookmark-item';
        a.textContent = bm.title;
        bmList.appendChild(a);
    });
}

document.getElementById('addBM').addEventListener('click',()=>{
    const title = document.getElementById('bmTitle').value.trim();
    const url = document.getElementById('bmURL').value.trim();
    if(!title || !url) return alert('Enter title and URL');
    bookmarks.push({title,url});
    localStorage.setItem('bookmarks',JSON.stringify(bookmarks));
    renderBookmarks();
    document.getElementById('bmTitle').value='';
    document.getElementById('bmURL').value='';
});

renderBookmarks();

// --- Notes ---
const notesEl = document.getElementById('notes');
notesEl.value = localStorage.getItem('notes')||'';
notesEl.addEventListener('input',()=>{localStorage.setItem('notes',notesEl.value);});
</script>

</body>
</html>
